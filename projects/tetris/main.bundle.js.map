{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/chessboard/chessboard.component.css","./src/app/chessboard/chessboard.component.html","./src/app/chessboard/chessboard.component.ts","./src/app/chessboard/slot.ts","./src/app/config/config.ts","./src/app/next/next.component.css","./src/app/next/next.component.html","./src/app/next/next.component.ts","./src/environments/environment.ts","./src/main.ts","./src/services/action.service.ts","./src/services/piece.service.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"#app{ display: block; margin-left: auto; margin-right: auto; }\\n\\naside{ width: 100%; overflow:hidden; display: block; background-color: #212121; height: 100px;\\npadding: 10px;\\n-webkit-box-sizing: border-box;\\n        box-sizing: border-box; }\\n\\n#dashboard{ float: left; width: 25%;  }\\n\\n#dashboard .ctrl{ float: left; color: white; display: inline-block; width: 50%; }\\n\\n#score{ float: right;  width: 50%; height: 100%; display: table; }\\n\\n#score * { text-align: center; }\\n\\n#score div{ width: 50%; float: left; }\\n\\n#score div h2{ color: white; font-family: sans-serif; font-size:20px; font-weight: bolder; }\\n\\n#score div p{ color: white; font-family: sans-serif; font-size: 16px; }\\n\\nh1.popupped{ display: inline-block !important; }\\n\\n#commands{ display:none;  width: 50vw; margin-left: auto; margin-right: auto; }\\n\\n#commands span{ cursor:pointer; width: 11vw; margin-top: 2vw; margin-right:2vw; height:11vw; background:rgba(255, 255, 255, 0.45); border-radius:5px;  text-align:center; display: table; float: left;  }\\n\\n#commands span:last-child{ margin-right: 0; }\\n\\n#commands span:hover{ color:white; background-color: #333; }\\n\\n#commands span i{ display: table-cell; vertical-align: middle; font-size: 27px; }\\n\\n@media only screen and (max-width:900px) and (min-width: 769px){\\n\\t#commands{ display: block; }\\n}\\n\\n@media only screen and (max-width: 768px){\\n\\t#commands{ width: 90vw; display: block; }\\n\\t#commands span{ width: 20vw; margin-right: 3.333vw; height: 20vw;  }\\n}\\n\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"<h1 [class.popupped]=\\\"isGameOver\\\" style=\\\"position: absolute; z-index: 10; display: none; height:150px; top:50px; background-color: rgba(0.7,23,74,140); width: 50%; margin-left: 25%; color:yellow;\\\">\\n\\tGAME OVER <br>\\n\\t\\t\\t\\t<button (click)='restart()'>RESTART</button>\\n\\n</h1>\\n\\n<div id='app' [style.width.px]='appWidth' >\\n\\t<aside >\\n\\t\\t<div id='dashboard' style=\\\"float: left;\\\">\\n\\t\\t\\t<i class=\\\"ctrl fa fa-play\\\" (click)='pause()'></i>\\n\\t\\t\\t\\n\\t\\t\\t<i class=\\\"ctrl fa fa-pause\\\" (click)='restart()'></i>\\n\\t\\t</div>\\t\\n\\t\\t<app-next style='float:left;' [nextId]='nextId'></app-next>\\n\\n\\t\\t<div id='score' >\\n\\t\\t\\t<div>\\n\\t\\t\\t<h2>SCORE</h2> \\n\\t\\t\\t<p>{{score}}</p>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div>\\n\\t\\t\\t<h2>BEST</h2>\\n\\t\\t\\t<p>{{bestScore}}</p>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</aside>\\n\\t<app-chessboard (changeNext)=\\\"nextId= $event\\\" (declareGameOver)='gameOver()' (updateScore)=\\\"updateScore($event)\\\" [gameId]='gameId'></app-chessboard>\\n\\t\\n</div>\\n\\n<div id=\\\"commands\\\" >\\n\\t<span> <i class=\\\"fas fa-long-arrow-alt-left\\\"></i> </span>\\n\\t<span> <i class=\\\"fas fa-long-arrow-alt-right\\\"></i> </span> \\n\\t<span> <i class=\\\"fas fa-long-arrow-alt-down\\\"></i> </span>\\n\\t<span> <i class=\\\"fas rotate fa-sync-alt\\\"></i> </span>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component, HostListener} from '@angular/core';\nimport { ActionService } from '../services/action.service';\n\nimport {CONFIG_HORIZONTAL_GRID, CONFIG_VERTICAL_GRID, CONFIG_SLOT_WIDTH} from './config/config';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\tappWidth: number;\n\tasideWidth: number;\n\tnextId: number;\n\tgameId = 0;\n\tscore = 0;\n\tbestScore = 0;\n\tisGameOver= false;\n\n\tconstructor(private action: ActionService){\n\t\taction.start();\n\t\tthis.appWidth= ((CONFIG_HORIZONTAL_GRID) * (CONFIG_SLOT_WIDTH+2));\n\t\tthis.asideWidth= 4 * (CONFIG_SLOT_WIDTH+2);\n\n\t}\n\n\tpause(){\n\t\tthis.action.togglePause();\n\t}\n\n\trestart(){\n\t\tthis.pause();\n\t\tthis.isGameOver=false;\n\t\tthis.score=0;\n\t\tthis.gameId++;\n\t}\n\n\tgameOver(){\n\t\tthis.pause();\n\t\tthis.isGameOver=true;\n\t}\n\n\tupdateScore(add){\n\t\tthis.score+=add;\n\t\tthis.bestScore= Math.max(this.score, this.bestScore);\n\t}\n\n\t@HostListener('document:keydown', ['$event']) openEars(event: KeyboardEvent) { \n    \tthis.action.hearKey(event.key);\n    \t\n\n  \t}\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\n\nimport { AppComponent } from './app.component';\nimport { ChessboardComponent } from './chessboard/chessboard.component';\nimport { NextComponent } from './next/next.component';\n\n\nimport { ActionService } from '../services/action.service';\nimport { PieceService } from '../services/piece.service';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ChessboardComponent,\n    NextComponent,\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [ActionService, PieceService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \"#chessboard {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  float: left; }\\n\\n.slot {\\n  float: left;\\n  border: 1px solid #3db7cc;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  background-color: rgba(255, 255, 255, 0.45);\\n  box-sizing: border-box; }\\n\\n.slot1 {\\n  background: #1E88E5; }\\n\\n/*celeste*/\\n\\n.slot2 {\\n  background: #69F0AE; }\\n\\n/*verde*/\\n\\n.slot3 {\\n  background: #F4511E; }\\n\\n/* rossarancione */\\n\\n.slot4 {\\n  background: #C2185B; }\\n\\n/* rosa */\\n\\n.slot5 {\\n  background: #FDD835; }\\n\\n/*giallo */\\n\\n.slot6 {\\n  background: #8E24AA; }\\n\\n/* viola */\\n\\n.slot7 {\\n  background: #c62828; }\\n\\n/*arancione*/\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chessboard/chessboard.component.css\n// module id = ./src/app/chessboard/chessboard.component.css\n// module chunks = main","module.exports = \"<div id='chessboard'  [ngStyle]=\\\"{'width' : chessboardWidth, 'height': chessboardHeight}\\\">\\n\\t<div *ngFor=\\\"let slot_row of this.slots; let i= index\\\" >\\n\\t\\t<div *ngFor=\\\"let slot of slot_row; let j= index\\\" class=\\\"slot slot{{slot.value}}\\\" [ngStyle]=\\\"{'width': slotWidth, 'height': slotWidth}\\\">\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chessboard/chessboard.component.html\n// module id = ./src/app/chessboard/chessboard.component.html\n// module chunks = main","import { Component, Output, Input, EventEmitter, SimpleChanges } from '@angular/core';\n\nimport {CONFIG_HORIZONTAL_GRID, CONFIG_VERTICAL_GRID, CONFIG_SLOT_WIDTH} from '../config/config';\n\nimport { Slot } from './slot';\n\nimport { ActionService } from '../../services/action.service';\nimport { PieceService } from '../../services/piece.service';\n\n\n\n \n@Component({\n  selector: 'app-chessboard',\n  templateUrl: './chessboard.component.html',\n  styleUrls: ['./chessboard.component.css']\n})\nexport class ChessboardComponent {\n\tslots: Slot[][];\n  piece : PieceService;\n  @Output() changeNext= new EventEmitter<number>();\n  @Output() updateScore = new EventEmitter<number>();\n  @Output() declareGameOver = new EventEmitter<number>();\n  @Input() gameId: number;\n\n\n\tchessboardWidth= ((CONFIG_HORIZONTAL_GRID) * (CONFIG_SLOT_WIDTH+2)) +\"px\";\n  chessboardHeight = ((CONFIG_VERTICAL_GRID) * (CONFIG_SLOT_WIDTH+2)) +\"px\";\n  slotWidth = CONFIG_SLOT_WIDTH+2+\"px\";\n\n  \tconstructor(private actions: ActionService) { \n\n  \t\tthis.slots=[];\n  \t\tfor(let i=0; i<CONFIG_VERTICAL_GRID; i++){\n        this.slots[i]=[];\n        for(let j=0; j< CONFIG_HORIZONTAL_GRID; j++){\n  \t\t    this.slots[i][j]=new Slot(i,j, 0);\n        }\n  \t\t}\n  \t\tthis.actions.frame$.subscribe((newFrame: number) => { \n  \t\t\tthis.movePiece([1,0]);\n\t    });\n\n      this.actions.movement$.subscribe((newMovement:number)=> {\n        this.movePiece([0, newMovement]);\n      });\n\n      this.actions.rotate$.subscribe((newRotation:number)=> {\n        this.piece.slots= this.piece.rotatePiece(newRotation);\n\n        \n        \n\n        for(let i=0; i<this.piece.slots.length; i++){\n          let pieceI= this.piece.slots[i].i;\n          let pieceJ= this.piece.slots[i].j;\n          for(let gaugeI=-3; gaugeI<3; gaugeI++){\n            for(let gaugeJ=-3; gaugeJ<3; gaugeJ++){\n              let tmpI=pieceI+gaugeI;\n              let tmpJ=pieceJ+gaugeJ;\n\n              if(tmpI>0 && tmpI < CONFIG_VERTICAL_GRID && tmpJ>0 && tmpJ < CONFIG_HORIZONTAL_GRID){\n                if(this.slots[tmpI][tmpJ].value!=0 && !this.slots[tmpI][tmpJ].stopped){\n\n                  this.slots[tmpI][tmpJ].value=0;\n                } \n              }\n\n          }\n        }\n      }\n\nthis.movePiece([0,0]);\n\n      \n\n      });\n      \n\n  \t}\n\n\n\n        movePiece(d: [number]){\n          let justDeployed=false;\n          if(typeof this.piece == 'undefined'){ justDeployed=true; this.deploy();} \n          for(let i=0; i<this.piece.slots.length; i++){\n            let p=this.piece.slots[i];\n            if(p.i<CONFIG_VERTICAL_GRID && p.j< CONFIG_HORIZONTAL_GRID && p.j>=0){\n              if((p.i+d[0] == CONFIG_VERTICAL_GRID || this.slots[p.i+d[0]][p.j].stopped) && p.value!=0){ \n                this.stopAndEvaluatePoints();\n                return;\n              }else if((p.j+d[1]<0 || p.j+d[1]==CONFIG_HORIZONTAL_GRID || this.slots[p.i][p.j+d[1]].stopped) && p.value!=0){\n                return;\n              }\n            }\n          }\n\n          if(!justDeployed){\n          if(d[1]==-1){\n            for(let i=0;i<this.piece.slots.length; i++){\n               this.executeNextStep(i,d);\n              \n            }\n          }else{\n            for(let i=this.piece.slots.length-1; i>=0; i--){\n                this.executeNextStep(i,d);\n              \n            }  \n          }\n        }\n        \n      }\n      \n\n      \n\n      deploy(){\n        this.piece= new PieceService();\n        this.changeNext.emit(this.piece.getQueueType());\n\n        for(let i=0; i<this.piece.slots.length; i++){\n          if(this.piece.slots[i].value!=0){\n            console.log(this.piece.slots[i].i, this.piece.slots[i].j, this.piece.slots[i].value )\n          this.slots[this.piece.slots[i].i][this.piece.slots[i].j].value=this.piece.slots[i].value;\n        }\n                  }\n        this.checkIsNotGameOver();\n\n      }\n\n\n      checkIsNotGameOver(){\n                \n         for(let i=0; i<this.piece.slots.length; i++){\n          if(this.piece.slots[i].value!=0 &&  this.slots[this.piece.slots[i].i][this.piece.slots[i].j].stopped){\n            this.declareGameOver.emit(1);\n            return;\n          }\n        }\n\n      }\n      stopAndEvaluatePoints(){\n        for(let i=this.piece.slots.length-1; i>=0; i--){\n          if(this.piece.slots[i].value!=0){\n            this.slots[this.piece.slots[i].i][this.piece.slots[i].j].stopped=true;\n          }\n        }\n\n        let riga=[];\n        for(let i=0; i<CONFIG_VERTICAL_GRID; i++){\n          riga[i]=0;\n          for(let j=0; j<CONFIG_HORIZONTAL_GRID; j++){\n            if(this.slots[i][j].value!=0){ riga[i]++;}\n          }\n        }\n        for(let k=0; k<riga.length; k++){\n          if(riga[k]==CONFIG_HORIZONTAL_GRID){\n            let quante=k;\n            do{ k++;  }while(riga[k]==CONFIG_HORIZONTAL_GRID);\n            for(let i=k-1; i > k-quante; i--){\n              for(let j=0; j<CONFIG_HORIZONTAL_GRID; j++){\n                this.slots[i][j].value=this.slots[i-(k-quante)][j].value;\n                this.slots[i][j].stopped=this.slots[i-(k-quante)][j].stopped;\n\n              }\n            } console.log('ELIMINO', k-quante, 'RIGHE');\n                              this.updateScore.emit((k-quante)*(k-quante));\n\n          }\n        }\n        delete this.piece; \n      }\n\n      executeNextStep(i,d){\n        if(this.piece.slots[i].i<= CONFIG_VERTICAL_GRID && this.piece.slots[i].j < CONFIG_HORIZONTAL_GRID){\n          if(this.piece.slots[i].value!=0){\n            this.slots[this.piece.slots[i].i][this.piece.slots[i].j].value=0;\n\n\n          }\n          \n          this.piece.slots[i].i+=d[0];\n          this.piece.slots[i].j+=d[1];\n          if(this.piece.slots[i].value!=0){\n            this.slots[this.piece.slots[i].i][this.piece.slots[i].j].value=this.piece.slots[i].value;\n          }\n        }\n      }\n\n      clearChessboard(){\n        for(let i=0; i<CONFIG_VERTICAL_GRID; i++){\n        this.slots[i]=[];\n        for(let j=0; j< CONFIG_HORIZONTAL_GRID; j++){\n          this.slots[i][j]=new Slot(i,j, 0);\n        }\n      }\n\n      delete this.piece;\n      }\n\n      ngOnChanges(changes: SimpleChanges) {\n        this.clearChessboard();\n      }\n      \n\n  \t\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/chessboard/chessboard.component.ts","import {CONFIG_HORIZONTAL_GRID, CONFIG_VERTICAL_GRID} from '../config/config';\n\n\nexport class Slot{\n\t//id:number;\n\tvalue:number;\n\ti: number;\n\tj: number;\n\tstopped: boolean;\n\n\tconstructor(_i:number, _j:number, _value:number){\n\t\t//this.id = _i*CONFIG_HORIZONTAL_GRID + _j;\n\t\tthis.value=_value;\n\t\tthis.i=_i;\n\t\tthis.j=_j;\n\t\tthis.stopped=false;\n\t} \n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/chessboard/slot.ts","\nexport const CONFIG_HORIZONTAL_GRID=10;\nexport const CONFIG_VERTICAL_GRID=15;\n\nlet wv = window.screen.width;\nlet wh = window.screen.height-150;\nif(wh <= 900 && wh>768){ wh -= 0.13 * wv; }\nelse if( wh<=768){ wh-= 0.22 * wv; }\n\nconsole.log(wv);\nconsole.log(wh);\n\nlet sw = 40+2;\n\nif(wv < CONFIG_HORIZONTAL_GRID * sw && wh > CONFIG_VERTICAL_GRID * sw ){\n\tconsole.log(9);\n\tsw = wv/ CONFIG_HORIZONTAL_GRID-4;\n}else if(wv > CONFIG_HORIZONTAL_GRID * sw && wh < CONFIG_VERTICAL_GRID * sw){\n\tconsole.log(12);\n\tsw = wh/ CONFIG_VERTICAL_GRID-4;\n}else if(wv < CONFIG_HORIZONTAL_GRID * sw && wh < CONFIG_VERTICAL_GRID * sw){\n\tconsole.log(15);\n\tsw = wh/ CONFIG_VERTICAL_GRID-4;\n}else{ console.log(22); sw = 40; }\n\nexport const CONFIG_SLOT_WIDTH = sw;\n\n\n// WEBPACK FOOTER //\n// ./src/app/config/config.ts","module.exports = \"\\n.slot1{ background:#1E88E5; } /*celeste*/ .slot2{ background: #4CAF50; } /*verde*/ .slot3{ background: #F4511E; } /* rossarancione */ .slot4{ background: #C2185B; } /* rosa */ .slot5{ background: #FDD835; } /*giallo */ .slot6{ background: #8E24AA; } /* viola */ .slot7{ background: #c62828;} /*arancione*/  \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/next/next.component.css\n// module id = ./src/app/next/next.component.css\n// module chunks = main","module.exports = \"\\n<div [style.width.px]='rowsNumber' style='float:left; '>\\n<div *ngFor='let slot of nextpiece.slots' style=\\\"float:left; width:20px; height:20px;\\\" class=\\\"slot{{slot.value}}\\\">\\n</div>\\n</div>\\n\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/next/next.component.html\n// module id = ./src/app/next/next.component.html\n// module chunks = main","import { Component, Input, SimpleChanges} from '@angular/core';\n\nimport { PieceService } from '../../services/piece.service';\n\n\n@Component({\n  selector: 'app-next',\n  templateUrl: './next.component.html',\n  styleUrls: ['./next.component.css']\n})\nexport class NextComponent  {\n\n\t@Input() nextId: number;\n\tnextpiece: PieceService;\n\trowsNumber: number;\n\n  constructor() { \n  \t\t\n\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n\t  this.nextpiece= new PieceService(changes.nextId.currentValue);\n\t  this.rowsNumber=Math.sqrt(this.nextpiece.slots.length)*20;\n\n\t}\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/next/next.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Injectable } from '@angular/core';\n\nimport { interval } from 'rxjs/observable/interval';\nimport {Observable} from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\n \n\n\n@Injectable()\nexport class ActionService {\n\nstatic CURRENTFRAME = 0;\nframe$: Observable<number>;\nprivate frameSubject: Subject<number>;\n\nmovement$: Observable<number>;\nprivate movementSubject: Subject<number>;\n\nrotate$: Observable<number>;\nprivate rotateSubject: Subject<number>;\n\nintervalSource: any;\nisPause= false;\n\n\n\tconstructor(){ \n\n\t\tthis.frameSubject = new Subject<number>();\n        this.frame$ = this.frameSubject.asObservable();\n\n        this.movementSubject = new Subject<number>();\n        this.movement$ = this.movementSubject.asObservable();\n\n        this.rotateSubject = new Subject<number>();\n        this.rotate$ = this.rotateSubject.asObservable();\n\n        \n    }\n\n\tstart() : void{\n\t\tthis.intervalSource = interval(600);\n\t\tthis.intervalSource.subscribe(val => this.nextFrame());\n\n\t}\n\n\ttogglePause(): void{\n\t\tthis.isPause = this.isPause ? false : true;\n\t\t}\n\t\n\tnextFrame() : void{\n\t\tif(!this.isPause){\n\t\t\tActionService.CURRENTFRAME++;\n\t\t\tthis.frame=ActionService.CURRENTFRAME;\n\t\t}\n\t}\n\n\tset frame(newValue) {\n      this.frame$ = newValue;\n      this.frameSubject.next(newValue);\n    }\n\n    set movement(newValue){\n    \tthis.movement$ = newValue;\n    \tthis.movementSubject.next(newValue);\n    }\n\n    set rotate(newValue){\n    \tthis.rotate$ = newValue;\n    \tthis.rotateSubject.next(newValue);\n    }\n\n   \n\n    hearKey(key):void{\n\t\tif(key=='ArrowLeft'){ this.movement=-1; }\n\t\telse if(key=='ArrowRight'){ this.movement=1;}\n\t\telse if(key=='ArrowDown'){ this.nextFrame();}\n\n\t\telse if( key == 'ArrowUp') { this.rotate = 1;}\n\t\t//else if( key == 'z' || key=='Z'){ this.rotate= -1; }\n\t}\n\n}\n\n\n\n\n\n\n\t\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/action.service.ts","import { Injectable, Optional  } from '@angular/core';\n\n\nimport { Slot } from '../app/chessboard/slot';\n\nimport {CONFIG_HORIZONTAL_GRID, CONFIG_VERTICAL_GRID} from '../app/config/config';\n\nlet ELLE = []; let SQUARE = []; let LONG = []; let TI= []; let ESSE = []; let REVERSE_ESSE = []; let REVERSE_ELLE = [];\nELLE['s']= [[1,1, 0], [1, 0, 0] , [1, 0, 0]];\nELLE['l']=2;\nELLE['c']=1;\n\nREVERSE_ELLE['s']=[[0,1,1],[0,0,1],[0,0,1]];\nREVERSE_ELLE['l']=2;\nREVERSE_ELLE['c']=2;\n\nSQUARE['s'] = [[1,1],[1,1]];\nSQUARE['l']=1;\nSQUARE['c']=3;\n\nLONG['s'] = [[1,0,0,0], [1,0,0,0], [1,0,0,0], [1,0,0,0]];\nLONG['l'] = 3;\nLONG['c']=4;\n\nTI['s'] = [[1,1,1], [0,1,0], [0,0,0]];\nTI['l']=2;\nTI['c']=5;\n\nESSE['s'] = [[1,0,0], [1,1,0] , [0,1,0]];\nESSE['l'] = 2;\nESSE['c']=6;\n\nREVERSE_ESSE['s']= [[0,0,1],[0,1,1],[0,1,0]];\nREVERSE_ESSE['l']=2;\nREVERSE_ESSE['c']=7;\n\n\nconst TYPES = [ELLE, REVERSE_ELLE, SQUARE, LONG, TI, ESSE, REVERSE_ESSE];\n\n\n\n@Injectable()\n\n\nexport class PieceService {\n\n\ttype: number;\n  static queueType = Math.round(Math.random()*6);\n\tslots: Slot[];\n\n\n\n  \n  constructor( @Optional() specificType?: number) { \n    this.slots=[];\n    let  d = new Date();\n    if(typeof specificType == 'undefined'){\n      this.type = PieceService.queueType;\n      PieceService.queueType = Math.round(Math.random()*6);\n    }else{\n        this.type= specificType;\n\n\n    }\n\n    this.initPiece();\n\n  }\n\n\n\n\n  initPiece(){\n  \t let p = TYPES[this.type]['s'];\n    \n\n\n  \tlet l = p.length; \n\n  \tlet b = Math.floor( Math.random() * (CONFIG_HORIZONTAL_GRID-l));\n  \tfor(let i=0; i<l; i++){\n  \t\tfor(let j=0; j<l; j++){\n        let color=0;\n        if( p[i][j]==1 ){ color=TYPES[this.type]['c'];}\n  \t\t\t this.slots.push( new Slot(i, j+b, color));\n      }\n    }\n  }\n\n      \n\n\n\n\n  getQueueType(){\n    return PieceService.queueType;\n  }\n\n\n\nrotatePiece(direction){\n  let tmp=[];\n\n\n\n  for(let i=0; i<this.slots.length; i++){\n    let r=Math.floor(i / TYPES[this.type]['s'].length);\n    let c = i - TYPES[this.type]['s'].length * r;\n    tmp.push([r, c, this.slots[i].value]);\n  }\n  let pptmp=[];\n  for(let i=0; i<this.slots.length; i++){\n    let oldr=Math.floor(i / TYPES[this.type]['s'].length);\n    let oldc = i - TYPES[this.type]['s'].length * oldr;\n    let newr= TYPES[this.type]['s'].length-1-oldc;\n    let newc=oldr;\n    let newi= newr*TYPES[this.type]['s'].length+newc; \n     pptmp[i]=[tmp[i][0], tmp[i][1], tmp[  newi ][2]];\n  }\n  let newTmp=[];\n  for(let i=0; i<this.slots.length; i++){\n   newTmp[i]=[this.slots[0].i+pptmp[i][0], this.slots[0].j+pptmp[i][1], pptmp[i][2]];\n  }\n\nlet toret=[];\n  for(let i=0; i<this.slots.length; i++){\n    toret.push(new Slot(newTmp[i][0],newTmp[i][1],newTmp[i][2]));\n  }\n\n\n  return toret;\n\n}\n\n\n\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/piece.service.ts"],"sourceRoot":"webpack:///"}